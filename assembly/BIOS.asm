
#NOCHECKSUM

image:{
 0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x12,0x22,0x22,0x21,0x22,0x21,0x11,0x11,
 0x33,0x33,0x31,0x31,0x13,0x13,0x33,0x31,0x11,0x11,0x11,0x11,0x12,0x22,0x22,0x22,0x22,0x22,0x22,0x22,0x11,0x11,
 0x11,0x41,0x11,0x41,0x14,0x14,0x11,0x11,0x11,0x11,0x11,0x11,0x22,0x22,0x22,0x52,0x25,0x22,0x22,0x22,0x25,0x11,
 0x11,0x41,0x11,0x44,0x44,0x14,0x44,0x11,0x11,0x11,0x11,0x12,0x25,0x22,0x22,0x22,0x22,0x22,0x25,0x22,0x22,0x21,
 0x11,0x31,0x11,0x31,0x13,0x13,0x11,0x11,0x11,0x11,0x11,0x12,0x22,0x22,0x52,0x22,0x22,0x22,0x22,0x22,0x22,0x22,
 0x11,0x41,0x11,0x41,0x14,0x14,0x44,0x41,0x11,0x11,0x11,0x11,0x22,0x22,0x22,0x25,0x55,0x55,0x52,0x22,0x25,0x25,
 0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x12,0x22,0x55,0x55,0x55,0x55,0x55,0x52,0x52,0x22,
 0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x12,0x25,0x55,0x55,0x55,0x55,0x55,0x55,0x22,0x52,
 0x13,0x33,0x11,0x13,0x33,0x11,0x31,0x11,0x31,0x33,0x33,0x11,0x22,0x55,0x55,0x55,0x55,0x66,0x65,0x55,0x22,0x22,
 0x41,0x11,0x41,0x41,0x11,0x41,0x44,0x14,0x41,0x41,0x11,0x11,0x22,0x55,0x57,0x66,0x66,0x68,0x75,0x55,0x22,0x21,
 0x41,0x11,0x11,0x41,0x11,0x41,0x41,0x41,0x41,0x44,0x41,0x11,0x12,0x55,0x57,0x66,0x88,0x87,0x55,0x55,0x52,0x11,
 0x41,0x14,0x41,0x44,0x44,0x41,0x41,0x11,0x41,0x41,0x11,0x11,0x11,0x25,0x78,0x88,0x88,0x75,0x55,0x55,0x52,0x11,
 0x31,0x11,0x31,0x31,0x11,0x31,0x31,0x11,0x31,0x31,0x11,0x11,0x11,0x11,0x78,0x88,0x67,0x77,0x77,0x55,0x52,0x21,
 0x14,0x44,0x11,0x41,0x11,0x41,0x41,0x11,0x41,0x44,0x44,0x11,0x11,0x17,0x88,0x66,0x66,0x66,0x75,0x22,0x22,0x21,
 0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x17,0x77,0x76,0x66,0x67,0x51,0x11,0x52,0x11,
 0x33,0x33,0x11,0x13,0x33,0x11,0x33,0x33,0x31,0x33,0x33,0x13,0x33,0x31,0x11,0x76,0x66,0x71,0x11,0x11,0x11,0x11,
 0x41,0x11,0x41,0x41,0x11,0x41,0x11,0x14,0x41,0x41,0x11,0x14,0x11,0x14,0x17,0x66,0x87,0x11,0x11,0x11,0x11,0x11,
 0x41,0x11,0x41,0x41,0x11,0x41,0x11,0x44,0x11,0x44,0x41,0x14,0x11,0x14,0x17,0x88,0x71,0x11,0x11,0x11,0x11,0x11,
 0x44,0x44,0x11,0x44,0x44,0x41,0x14,0x41,0x11,0x41,0x11,0x14,0x44,0x41,0x78,0x87,0x11,0x11,0x11,0x11,0x11,0x11,
 0x31,0x31,0x11,0x31,0x11,0x31,0x33,0x11,0x11,0x31,0x11,0x13,0x13,0x11,0x76,0x71,0x11,0x11,0x11,0x11,0x11,0x11,
 0x41,0x14,0x11,0x41,0x11,0x41,0x44,0x44,0x41,0x44,0x44,0x14,0x11,0x47,0x67,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
 0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x17,0x71,0x11,0x11,0x11,0x11,0x11,0x11,0x11,
}


;--[[COLORPALLET]]--
mov a,[image] ;sprite adress
mov b,0  ;x
mov c,0	 ;y
mov d,43 ;width
mov e,489;i

;--1
mov h,0x8c
dsend h,0x0,0x02
mov h,0x8c
dsend h,0x0,0x03
mov h,0x8c
dsend h,0x0,0x04
mov h,0x01
dsend h,0x0,0x05

;--2
mov h,0xff
dsend h,0x0,0x02
mov h,0x62
dsend h,0x0,0x03
mov h,0x62
dsend h,0x0,0x04
mov h,0x02
dsend h,0x0,0x05

;--3
mov h,0xff
dsend h,0x0,0x02
mov h,0x00
dsend h,0x0,0x03
mov h,0x00
dsend h,0x0,0x04
mov h,0x03
dsend h,0x0,0x05

;--4
mov h,0xac
dsend h,0x0,0x02
mov h,0xac
dsend h,0x0,0x03
mov h,0xac
dsend h,0x0,0x04
mov h,0x04
dsend h,0x0,0x05

;--5
mov h,0xf1
dsend h,0x0,0x02
mov h,0xdc
dsend h,0x0,0x03
mov h,0x69
dsend h,0x0,0x04
mov h,0x05
dsend h,0x0,0x05

;--6
mov h,0xcb
dsend h,0x0,0x02
mov h,0xae
dsend h,0x0,0x03
mov h,0x0c
dsend h,0x0,0x04
mov h,0x06
dsend h,0x0,0x05

;--7
mov h,0xff
dsend h,0x0,0x02
mov h,0xd8
dsend h,0x0,0x03
mov h,0x00
dsend h,0x0,0x04
mov h,0x07
dsend h,0x0,0x05

;--[[render]]--
	mov h,21 ;height
loop0:
	cmpgt c,h
	jmp [loop0done]

	cmpeq a,e
	jmp [loop0done]

loop1:
	cmpgt b,d
	jmp [reset_x]

	dsend b,0x0,0x00
	dsend c,0x0,0x01
	mov g,0
	rbios g, a,f
	split f,f,g
	sub f,1,f
	dsend f,0x0,0x06
	dsend c,0x0,0x01
	add b,1,b
	dsend b,0x0,0x00
	sub g,1,g
	dsend g,0x0,0x06
	add b,1,b
	add a,1,a
	jmp [loop1]

reset_x:
	mov b,0
	add c,1,c
	jmp [loop0]


;this code seems strange to me, but it does result
;in a working bios....????
loop0done:
	mov a,0
	cmpgt a,e
loop2:
	jmp [loop2done]
	dsend g,0x0,0x07
	add a,0x0001,a
	jmp [loop2]
;till here


;find TGR at the start of a rom
loop2done:
	rrom a,0x000001
	mov b,0x54
	cmpeq a,b
	jmp [continue1]
	jmp [stop1]
continue1:
	rrom a,0x000002
	mov b,0x47
	cmpeq a,b
	jmp [continue2]
	jmp [stop1]
continue2:
	rrom a,0x000003
	mov b,0x52
	cmpeq a,b
	jmp [continue3]
stop1:
	hlt
continue3:
	mov a,0
	mov b,0
	mov c,0
	mov d,0
	mov e,0
	mov f,0
	mov g,0
	mov h,0
	exec 1,4
